/*!
######################################################

# MOBILECOMPATIBILITY.JS

# OCOM GLOBAL ASSET RELEASE: v11.7.0

# BUILD DATE: FRI SEP 09 22:38:05 UTC 2016

# COPYRIGHT ORACLE CORP 2015 [UNLESS STATED OTHERWISE]

# ANY CHANGES MADE TO THIS FILE WILL BE OVERWRITTEN!
# DO NOT MODIFY THIS FILE ON STAGE OR PRODUCTION. ALL
# CHANGES OR ADDITIONS TO THIS FILE MUST BE SUBMITTED
# TO WEBSTANDARDS_WW -AT- ORACLE.COM

######################################################
*/
(function(){if(typeof checkbetamode=="function"){checkbetamode("mobilecompatibility","v11.7.0")}})();

/*! BRIGHTCOVE.MOBILE

 * Copyright (C) 2005 Brightcove, Inc.  All Rights Reserved.  No
 * use, copying or distribution of this work may be made except in
 * accordance with a valid license agreement from Brightcove, Inc.
 * This notice must be included on all copies, modifications and
 * derivatives of this work.
 *
 * Brightcove, Inc MAKES NO REPRESENTATIONS OR WARRANTIES ABOUT
 * THE SUITABILITY OF THE SOFTWARE, EITHER EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, OR
 * NON-INFRINGEMENT. BRIGHTCOVE SHALL NOT BE LIABLE FOR ANY DAMAGES SUFFERED
 * BY LICENSEE AS A RESULT OF USING, MODIFYING OR DISTRIBUTING THIS
 * SOFTWARE OR ITS DERIVATIVES.
 *
 * "Brightcove" is a trademark of Brightcove, Inc.
 **/

/*! BRIGHTCOVE.MOBILE INCLUDES */

/*! BRIGHTCOVE.HTML5_OMNITURE */
var OracleOmniture=new function(){var i="video:";var j=["Student","Enterprise","Developer","Startup","SMB","Partner"];var h=["TechDemo","Overview","TalkHead","Narrative","Discussion"];var u=["Software","Servers","Storage","Virtualization","HP"];var e="percentage";var t="5minutes";var w="10minutes";var b;var r;var p;var a;var m=false;var d;var k;var g=0;var c=false;this.initialize=function(C,A,z,y,B){if(r!=null){l("Initialize - clearing old values");r.removeEventListener("ended",this.onMediaComplete,false);r.removeEventListener("play",this.onMediaPlay,false);r.removeEventListener("playing",this.onMediaPlaying,false);r.removeEventListener("pause",this.onMediaStop,false);r.removeEventListener("timeupdate",this.onMediaProgress,false);OracleOmniture.closeSession()}r=document.getElementById(C);r.addEventListener("ended",this.onMediaComplete,false);r.addEventListener("play",this.onMediaPlay,false);r.addEventListener("playing",this.onMediaPlaying,false);r.addEventListener("pause",this.onMediaStop,false);r.addEventListener("timeupdate",this.onMediaProgress,false);b=A;p=z.replace(/,/g," ");a=y/1000;c=B;x();q();m=false};var f=function(){try{if(a>(60*20)){if(a>(60*60*2)){d=w}else{d=t}k=null}else{d=e;k=new Array(75,50,25)}l("Tracking method: "+d);s.Media.trackMilestones=""}catch(y){}};var q=function(){try{s.Media.autoTrack=false;s.autoTrack=false;s.dc="112";s.Media.trackWhilePlaying=true;s.Media.trackSeconds="";s.Media.trackMilestones="";s.debugTracking=true;s.trackLocal=true;s.trackingServer="oracle.112.2o7.net";s.trackingServerSecure="oracle.112.2o7.net"}catch(y){}};this.openSession=function(){l("begin openSession");if(m){return false}f();v();s.t();s.Media.open(p,Math.round(a),"Sun Video Portal");m=true;l("end open session");return true};this.closeSession=function(){l("closeSession");if(!m){return}y.Media.close(p);m=false;var y=s_gi(s_account[0]);l("end close session")};var v=function(z){try{var y=s_gi("oraclecom,oracleglobal,oracleinteractive");y.events="event11";y.pageName=i+p;y.eVar36=p;y.eVar26="video";y.prop26="video";y.products=";"+i+p;y.prop47=o(j,"No Audience Set");y.prop48=o(h,"No Video Type Set");y.prop49=o(u,"No Product Set");y.prop29=window.location}catch(A){}};var x=function(){try{s.events=null;s.pageName=null;s.eVar36=null;s.products=null;s.prop47=null;s.prop48=null;s.prop49=null;s.prop29=null;s.prop26=null;s.eVar26=null}catch(y){}};var o=function(E,D){var A=b.split(",");for(var B=0;B<A.length;B++){var y=A[B];for(var z=0;z<E.length;z++){var C=E[z];if(C.toUpperCase()==y.toUpperCase()){return C}}}return D};this.onMediaPlaying=function(y){l("begin media playing");OracleOmniture.onMediaPlay()};this.onMediaPlay=function(y){try{l("begin media play");var z=OracleOmniture.openSession();s.Media.play(p,r.currentTime);if(z){x()}l("end media play")}catch(A){}};this.onMediaStop=function(y){try{l(y);s.Media.stop(p,r.currentTime);l("end media stop")}catch(z){}};this.onMediaProgress=function(y){var B=0;for(var A=0;A<r.played.length;A++){B+=r.played.end(A)-r.played.start(A)}if(d==t&&B>(g+(5*60))){l("Tracking 5 minutes "+B);g=B;n()}else{if(d==w&&B>(g+(10*60))){l("Tracking 10 minutes "+B);g=B;n()}else{if(d==e&&k!=undefined&&k.length>0){var z=r.currentTime/a*100;var C=k[k.length-1];if(z>C){n();l("Tracking "+C+" percent");while(z>C){k.pop();if(k.length>0){C=k[k.length-1]}else{C=100}}}}}}};function n(){try{s.Media.track(p)}catch(y){}}this.onMediaComplete=function(y){try{l(y);s.Media.stop(p,r.currentTime);OracleOmniture.closeSession();l("end end media complete")}catch(z){}};this.omnitureUnload=function(){l("Page closed, closing Media object");OracleOmniture.closeSession()};this.trackCTA=function(z){try{var B=i+p;var y=B+":"+z;s.eVar32=y;s.products=";"+B;s.events="event18";s.tl();s.events="event11";s.eVar32=null}catch(A){}};var l=function(y){if(c){document.getElementById("divDebug").innerHTML+="<br/>"+y}}};

/*! BRIGHTCOVE.MOBILE CODE */
var BCReadAPIToken="McH8ITCNKzaQHM1Zonw4qryqAw_DQn2RcLhb5s08S94.";var isUDS=false;var pagePlacementInfo=new Object();var parentObj=new Array();var debug=false;var videoWidth;var videoHeight;function runMobileCompatibilityScript(e,d,b,c){var a=DetectSmartphone();debug=location.href.indexOf("testmobile")>=0;if(!a&&!debug){return false}this.videoWidth=d;this.videoHeight=b;makeMobileCompatible(e,c);return true}function makeMobileCompatible(b,f){var e=document.getElementById(b);var c=getParamValueForVidObject(e,"playerID");var a=getParamValueForVidObject(e,"@videoPlayer");if((c==null)||(typeof(c)=="undefined")){c=BCVidObjects[b]}parentObj[b]=e.parentNode;var d=e.nextSibling;if(d==null){pagePlacementInfo[""+b]=null}else{pagePlacementInfo[""+b]=d}parentObj[b].removeChild(e);initiateMobileVideoRetrieval(c,a,BCReadAPIToken,f,b)}function getParamValueForVidObject(c,a){var b=null;jQuery(c).children().each(function(d){if(this.nodeName=="PARAM"){if(this.name==a){b=this.value}}});return b}function parseParamFromString(d,b){var c=d.split("&");for(var a=0;a<c.length;a++){if(c[a].indexOf(b)!=-1){return c[a].substr(c[a].indexOf("=")+1)}}return null}function initiateMobileVideoRetrieval(i,b,j,c,d){var h;var e;var a;var g;if(b){if(b.indexOf("ref:")!=-1){h="//api.brightcove.com/services/library?command=find_video_by_reference_id&reference_id="+b.substring(4)+"&token="+j}else{h="//api.brightcove.com/services/library?command=find_video_by_id&video_id="+b+"&token="+j+"&video_fields=videoStillURL,name,length,linkText,linkURL,tags&custom_fields=mp4link"}g="handleJSONResponseForID"+new Date().getTime();e=document.createElement("script");e.setAttribute("language","javascript");a="function "+g+"(JSONResponse){\n\thandleVideoResponse(JSONResponse, '"+i+"', '"+c+"', '"+d+"');\n}\n"}else{h="//api.brightcove.com/services/library?command=find_playlists_for_player_id&player_id="+i+"&token="+j;g="handleJSONResponseForID"+new Date().getTime();e=document.createElement("script");e.setAttribute("language","javascript");a="function "+g+"(JSONResponse){\n\thandlePlaylistResponse(JSONResponse, '"+i+"', '"+c+"', '"+d+"');\n}\n"}if(isUDS){h+="&media_delivery=http"}var f=document.createTextNode(a);e.appendChild(f);document.body.appendChild(e);addScriptTag("getMobileRendition",h,g)}function addScriptTag(f,a,e){var c=document.createElement("script");var d="&noCacheIE="+(new Date()).getTime();c.setAttribute("type","text/javascript");c.setAttribute("charset","utf-8");c.setAttribute("src",a+"&callback="+e+d);c.setAttribute("id",f);var b=document.getElementsByTagName("head").item(0);b.appendChild(c)}function handlePlaylistResponse(a,b,f,e){var d=a.items[0];var c=d.videos[0];embedHTML5PlayerForVideo(c,b,f,e)}function handleVideoResponse(a,b,e,d){e=(e)?e:"videoTagId";embedHTML5PlayerForVideo(a,b,e,d);var c="";if(a.tags!=null){c=a.tags.join(",")}if(OracleOmniture.initialize){OracleOmniture.initialize(e,c,a.name,a.length,debug)}}function embedHTML5PlayerForVideo(f,a,g,d){var c=f.customFields.mp4link;var e=f.name;var b=f.videoStillURL;var h=formVideoTagFromInfo(g,e,c,videoWidth,videoHeight,b);jQuery(parentObj[d]).append(h)}function betterEncodingForMobile(b,a){IDEAL_ENCODING_RATE=256000;diff1=Math.abs(b-IDEAL_ENCODING_RATE);diff2=Math.abs(a-IDEAL_ENCODING_RATE);return((diff1<=diff2)?b:a)}function formVideoTagFromInfo(h,d,g,a,c,f){var b=document.createElement("video");if(h){b.setAttribute("id",h)}else{b.setAttribute("id",d)}b.setAttribute("poster",f);b.setAttribute("width",""+a);b.setAttribute("height",""+c);b.setAttribute("controls","true");b.setAttribute("src",g);var e=DetectAndroid();if(e){addClickHandlerToVid(b)}return b}function addClickHandlerToVid(a){a.addEventListener("click",function(b){return function(){b.play()}}(a))}var deviceIphone="iphone";var deviceIPad="ipad";var deviceIpod="ipod";var devicePlaystation="playstation";var deviceWap="wap";var deviceWinMob="windows ce";var enginePie="wm5 pie";var deviceIeMob="iemobile";var deviceS60="series60";var deviceSymbian="symbian";var deviceS60="series60";var deviceS70="series70";var deviceS80="series80";var deviceS90="series90";var deviceBB="blackberry";var deviceAndroid="android";var motorollaDroid=" droid ";var deviceMidp="midp";var deviceWml="wml";var deviceBrew="brew";var devicePalm="palm";var engineXiino="xiino";var engineBlazer="blazer";var devicePda="pda";var deviceNintendoDs="nitro";var engineWebKit="webkit";var engineNetfront="netfront";var manuSonyEricsson="sonyericsson";var manuericsson="ericsson";var manuSamsung1="sec-sgh";var svcDocomo="docomo";var svcKddi="kddi";var svcVodafone="vodafone";var s60GetsMobile=true;var iphoneIpodGetsMobile=true;var uagent=navigator.userAgent.toLowerCase();function DetectIphone(){if(uagent.search(deviceIphone)>-1){if(uagent.search(deviceIpod)>-1){return false}else{return true}}else{return false}}function DetectIPad(){if(uagent.search(deviceIPad)>-1){return true}else{return false}}function DetectIpod(){if(uagent.search(deviceIpod)>-1){return true}else{return false}}function DetectIphoneOrIpodOrIPad(){if(uagent.search(deviceIphone)>-1||uagent.search(deviceIpod)>-1||uagent.search(deviceIPad)>-1){return true}else{return false}}function DetectAndroid(){if(uagent.search(deviceAndroid)>-1){return true}else{return false}}function DetectMotorollaDroid(){if(uagent.search(motorollaDroid)>-1){return true}else{return false}}function DetectAndroidWebKit(){if(DetectAndroid()){if(DetectWebkit()){return true}else{return false}}else{return false}}function DetectWebkit(){if(uagent.search(engineWebKit)>-1){return true}else{return false}}function DetectS60OssBrowser(){if(DetectWebkit()){if((uagent.search(deviceS60)>-1||uagent.search(deviceSymbian)>-1)){return true}else{return false}}else{return false}}function DetectSymbianOS(){if(uagent.search(deviceSymbian)>-1||uagent.search(deviceS60)>-1||uagent.search(deviceS70)>-1||uagent.search(deviceS80)>-1||uagent.search(deviceS90)>-1){return true}else{return false}}function DetectBlackBerry(){if(uagent.search(deviceBB)>-1){return true}else{return false}}function DetectWindowsMobile(){if(uagent.search(deviceWinMob)>-1||uagent.search(deviceIeMob)>-1||uagent.search(enginePie)>-1){return true}else{return false}}function DetectPalmOS(){if(uagent.search(devicePalm)>-1||uagent.search(engineBlazer)>-1||uagent.search(engineXiino)>-1){return true}else{return false}}function SetS60GetsMobile(a){s60GetsMobile=a}function SetS60GetsMobile(a){iphoneIpodGetsMobile=a}function DetectSmartphone(){if(DetectIphoneOrIpodOrIPad()){return true}if(DetectAndroid()){return true}if(DetectS60OssBrowser()){return true}if(DetectSymbianOS()){return true}if(DetectWindowsMobile()){return true}if(DetectBlackBerry()){return true}if(DetectPalmOS()){return true}return false}function DetectMobileQuick(){if(uagent.search(deviceWap)>-1||uagent.search(deviceMidp)>-1||uagent.search(deviceWml)>-1||uagent.search(deviceBrew)>-1){return true}if(DetectSmartphone()){return true}if(uagent.search(engineNetfront)>-1){return true}if(uagent.search(devicePlaystation)>-1){return true}if(uagent.search(devicePda)>-1){return true}return false}function DetectMobileLonger(){if(DetectMobileQuick()){return true}if(uagent.search(svcDocomo)>-1){return true}if(uagent.search(svcKddi)>-1){return true}if(uagent.search(deviceNintendoDs)>-1){return true}if(uagent.search(svcVodafone)>-1){return true}if(uagent.search(manuSamsung1)>-1||uagent.search(manuSonyEricsson)>-1||uagent.search(manuericsson)>-1){return true}return false};